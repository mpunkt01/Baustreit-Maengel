<?xml version="1.0" encoding="utf-8"?>
<!--
- phpMyAdmin XML Dump
- version 4.9.7
- https://www.phpmyadmin.net
-
- Host: localhost:8889
- Erstellungszeit: 22. Apr 2021 um 07:40
- Server-Version: 5.7.32
- PHP-Version: 7.4.12
-->

<pma_xml_export version="1.0" xmlns:pma="https://www.phpmyadmin.net/some_doc_url/">
    <!--
    - Structure schemas
    -->
    <pma:structure_schemas>
        <pma:database name="DB_LackTracking" collation="utf8_general_ci" charset="utf8">
            <pma:table name="aenderungen">
                CREATE TABLE `aenderungen` (
                  `id_aenderung` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `Kurztitel` varchar(255) NOT NULL,
                  `Beschreibung` text NOT NULL,
                  `Kostenauswirkung` decimal(19,4) NOT NULL COMMENT 'pauschal Euro in netto',
                  `Terminauswirkung` varchar(255) NOT NULL COMMENT 'Beschreibung der Terminauswirkung in Prosa',
                  `Freigabe` tinyint(1) NOT NULL,
                  `externe Nummer` varchar(50) NOT NULL,
                  `Verursacher` varchar(255) NOT NULL,
                  `Risiko` text NOT NULL,
                  `Empfehlung` text NOT NULL,
                  `Finanzierung` text NOT NULL,
                  `Anlagen` varchar(255) NOT NULL,
                  `Projekt Verfasser Zuordnung` int(11) NOT NULL,
                  PRIMARY KEY (`id_aenderung`),
                  KEY `zu Projekt Verfasser` (`Projekt Verfasser Zuordnung`),
                  CONSTRAINT `zu Projekt Verfasser` FOREIGN KEY (`Projekt Verfasser Zuordnung`) REFERENCES `projekt_nutzer_zuordnung` (`id_proj_zuordnung`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
            <pma:table name="anzeigen">
                CREATE TABLE `anzeigen` (
                  `id_anzeige` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `zu id_mangel` int(11) NOT NULL,
                  `zu id_verursacher` int(11) NOT NULL,
                  `Frist` date NOT NULL,
                  `Nachfrist` date NOT NULL,
                  PRIMARY KEY (`id_anzeige`),
                  KEY `zu id_mangel` (`zu id_mangel`),
                  KEY `zu id_verursacher` (`zu id_verursacher`),
                  CONSTRAINT `anzeigen_ibfk_1` FOREIGN KEY (`zu id_mangel`) REFERENCES `mangelliste` (`id_mangel`),
                  CONSTRAINT `anzeigen_ibfk_2` FOREIGN KEY (`zu id_verursacher`) REFERENCES `verursacher` (`id_verursacher`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
            <pma:table name="aufgaben">
                CREATE TABLE `aufgaben` (
                  `id_aufgabe` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `bis` date NOT NULL,
                  `Aufgabe` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
                  `Erledigungsvermerk` text COLLATE utf8_unicode_ci NOT NULL,
                  `von` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Wer soll erledigen?',
                  `erledigt` tinyint(1) NOT NULL COMMENT 'ist die Aufgabe erledigt?',
                  `zu Projekt Verfasser` int(11) NOT NULL,
                  PRIMARY KEY (`id_aufgabe`),
                  KEY `Projekt Verfasser Zuordnung` (`zu Projekt Verfasser`),
                  CONSTRAINT `Projekt Verfasser Zuordnung` FOREIGN KEY (`zu Projekt Verfasser`) REFERENCES `projekt_nutzer_zuordnung` (`id_proj_zuordnung`)
                ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='eigene Aufgabenverwaltung';
            </pma:table>
            <pma:table name="beseitigungen">
                CREATE TABLE `beseitigungen` (
                  `id_beseitigung` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `zu id_anzeige` int(11) NOT NULL,
                  `beseitigt` tinyint(1) NOT NULL,
                  `Erledigungsvermerk` text NOT NULL,
                  PRIMARY KEY (`id_beseitigung`),
                  KEY `zu id_anzeige` (`zu id_anzeige`),
                  CONSTRAINT `beseitigungen_ibfk_1` FOREIGN KEY (`zu id_anzeige`) REFERENCES `anzeigen` (`id_anzeige`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
            <pma:table name="chronik">
                CREATE TABLE `chronik` (
                  `id_chronik` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `Vorgang` varchar(255) NOT NULL,
                  `Beschreibung` text NOT NULL,
                  `zu Projekt Verfasser` int(11) NOT NULL,
                  PRIMARY KEY (`id_chronik`),
                  KEY `Zuordnung Projekt Verfasser` (`zu Projekt Verfasser`) USING BTREE,
                  CONSTRAINT `Zuordnung Verfasser Projekt` FOREIGN KEY (`zu Projekt Verfasser`) REFERENCES `projekt_nutzer_zuordnung` (`id_proj_zuordnung`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Projekthistorie';
            </pma:table>
            <pma:table name="dokumente">
                CREATE TABLE `dokumente` (
                  `id_doku` int(11) NOT NULL AUTO_INCREMENT,
                  `vom` date NOT NULL,
                  `von` varchar(255) NOT NULL,
                  `an` varchar(255) NOT NULL,
                  `Betreff` varchar(255) NOT NULL,
                  `Anmerkung` text NOT NULL,
                  `Kategorie` varchar(80) NOT NULL COMMENT 'z.B. Schriftverkehr, Aktenvermerk, Genehmigung',
                  `Schlagworte` varchar(255) NOT NULL,
                  `Lebensdauer` tinyint(4) NOT NULL COMMENT 'von 1 - 99 Jahre',
                  `Anlage` blob NOT NULL,
                  `Projekt Verfasser Zuordnung` int(11) NOT NULL,
                  PRIMARY KEY (`id_doku`),
                  KEY `Projekt Verfasser zu` (`Projekt Verfasser Zuordnung`),
                  CONSTRAINT `Projekt Verfasser zu` FOREIGN KEY (`Projekt Verfasser Zuordnung`) REFERENCES `projekt_nutzer_zuordnung` (`id_proj_zuordnung`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
            <pma:table name="kommentare">
                CREATE TABLE `kommentare` (
                  `id_kommentar` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `Kommentar` text NOT NULL,
                  `zu id_verfasser` int(11) NOT NULL,
                  `zu id_mangel` int(11) NOT NULL,
                  PRIMARY KEY (`id_kommentar`),
                  KEY `zu id_mangel` (`zu id_mangel`),
                  KEY `zu id_verfasser` (`zu id_verfasser`),
                  CONSTRAINT `kommentare_ibfk_1` FOREIGN KEY (`zu id_mangel`) REFERENCES `mangelliste` (`id_mangel`),
                  CONSTRAINT `kommentare_ibfk_2` FOREIGN KEY (`zu id_verfasser`) REFERENCES `verfasser` (`id_verfasser`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
            <pma:table name="mangelliste">
                CREATE TABLE `mangelliste` (
                  `id_mangel` int(11) NOT NULL AUTO_INCREMENT,
                  `Datum` date NOT NULL,
                  `Lage` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
                  `Mangelbeschreibung` text COLLATE utf8_unicode_ci NOT NULL,
                  `Status` varchar(25) COLLATE utf8_unicode_ci NOT NULL COMMENT 'feste Werte (vor-, bei-, nach Abnahme)',
                  `Gruppierung` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'eigene Gruppe, wie Bauteile oder FQ',
                  `zu_id_projekt_nutzer` int(11) NOT NULL,
                  `Anhang` int(11) NOT NULL COMMENT 'Verweis auf id_dokument',
                  PRIMARY KEY (`id_mangel`),
                  KEY `zu_id_projekt_nutzer` (`zu_id_projekt_nutzer`),
                  KEY `Anhang` (`Anhang`),
                  CONSTRAINT `mangelliste_ibfk_2` FOREIGN KEY (`zu_id_projekt_nutzer`) REFERENCES `projekt_nutzer_zuordnung` (`id_proj_zuordnung`),
                  CONSTRAINT `mangelliste_ibfk_3` FOREIGN KEY (`Anhang`) REFERENCES `dokumente` (`id_doku`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
            </pma:table>
            <pma:table name="projekte">
                CREATE TABLE `projekte` (
                  `id_projekt` int(11) NOT NULL AUTO_INCREMENT,
                  `Kurzbezeichnung` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
                  `Beschreibung` text COLLATE utf8_unicode_ci NOT NULL,
                  PRIMARY KEY (`id_projekt`)
                ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Tabelle der Projekte';
            </pma:table>
            <pma:table name="projekt_nutzer_zuordnung">
                CREATE TABLE `projekt_nutzer_zuordnung` (
                  `id_proj_zuordnung` int(11) NOT NULL AUTO_INCREMENT,
                  `id_verfasser` int(11) NOT NULL COMMENT 'ID aus Tabelle der Nutzer',
                  `id_projekte` int(11) NOT NULL COMMENT 'ID aus  Tabelle der Projekte',
                  PRIMARY KEY (`id_proj_zuordnung`),
                  KEY `id_verfasser` (`id_verfasser`),
                  KEY `projekt_zuordnung` (`id_projekte`) USING BTREE,
                  CONSTRAINT `projekt_nutzer_zuordnung_ibfk_1` FOREIGN KEY (`id_verfasser`) REFERENCES `verfasser` (`id_verfasser`),
                  CONSTRAINT `projekt_nutzer_zuordnung_ibfk_2` FOREIGN KEY (`id_projekte`) REFERENCES `projekte` (`id_projekt`)
                ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Tabelle der Zuordnung von Projekten und Nutzern ';
            </pma:table>
            <pma:table name="verfasser">
                CREATE TABLE `verfasser` (
                  `id_verfasser` int(11) NOT NULL AUTO_INCREMENT,
                  `Name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT 'Vor- Nachname',
                  `Email` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
                  `Passwort` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
                  `Rolle` tinyint(4) NOT NULL COMMENT 'Rechtevergabe',
                  `registered` datetime NOT NULL,
                  PRIMARY KEY (`id_verfasser`)
                ) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=utf16 COLLATE=utf16_unicode_ci COMMENT='Tabelle der Nutzer';
            </pma:table>
            <pma:table name="verursacher">
                CREATE TABLE `verursacher` (
                  `id_verursacher` int(11) NOT NULL AUTO_INCREMENT,
                  `Name AN` varchar(80) NOT NULL,
                  `Email AN` varchar(80) NOT NULL,
                  `Gewerkeart` varchar(50) NOT NULL,
                  `Anmerkung` text NOT NULL,
                  PRIMARY KEY (`id_verursacher`)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
            </pma:table>
        </pma:database>
    </pma:structure_schemas>

    <!--
    - Datenbank: 'DB_LackTracking'
    -->
    <database name="DB_LackTracking">
        <!-- Tabelle aenderungen -->
        <!-- Tabelle anzeigen -->
        <!-- Tabelle aufgaben -->
        <table name="aufgaben">
            <column name="id_aufgabe">1</column>
            <column name="Datum">2021-04-21</column>
            <column name="bis">2021-04-28</column>
            <column name="Aufgabe">Daten in Datenbank schreiben</column>
            <column name="Erledigungsvermerk">21.4.21: bisher wurde nichts erledigt</column>
            <column name="von">Jupp</column>
            <column name="erledigt">0</column>
            <column name="zu Projekt Verfasser">1</column>
        </table>
        <table name="aufgaben">
            <column name="id_aufgabe">2</column>
            <column name="Datum">2021-04-21</column>
            <column name="bis">2021-04-28</column>
            <column name="Aufgabe">Daten löschen</column>
            <column name="Erledigungsvermerk">20.4.21: keine Reaktion</column>
            <column name="von">Jupp</column>
            <column name="erledigt">0</column>
            <column name="zu Projekt Verfasser">1</column>
        </table>
        <!-- Tabelle beseitigungen -->
        <!-- Tabelle chronik -->
        <!-- Tabelle dokumente -->
        <!-- Tabelle kommentare -->
        <!-- Tabelle mangelliste -->
        <!-- Tabelle projekte -->
        <table name="projekte">
            <column name="id_projekt">1</column>
            <column name="Kurzbezeichnung">Testprojekt</column>
            <column name="Beschreibung">Das Testprojekt dient zum ausprobieren. </column>
        </table>
        <table name="projekte">
            <column name="id_projekt">2</column>
            <column name="Kurzbezeichnung">2. Projekt</column>
            <column name="Beschreibung">zu Testzwecken wurde ein zweites Projekt zur Datenbank eingefügt</column>
        </table>
        <!-- Tabelle projekt_nutzer_zuordnung -->
        <table name="projekt_nutzer_zuordnung">
            <column name="id_proj_zuordnung">1</column>
            <column name="id_verfasser">36</column>
            <column name="id_projekte">1</column>
        </table>
        <table name="projekt_nutzer_zuordnung">
            <column name="id_proj_zuordnung">2</column>
            <column name="id_verfasser">33</column>
            <column name="id_projekte">2</column>
        </table>
        <table name="projekt_nutzer_zuordnung">
            <column name="id_proj_zuordnung">3</column>
            <column name="id_verfasser">36</column>
            <column name="id_projekte">2</column>
        </table>
        <!-- Tabelle verfasser -->
        <table name="verfasser">
            <column name="id_verfasser">33</column>
            <column name="Name">Tom Morello</column>
            <column name="Email">�t�o�m�@�e�m�a�i�l�.�d�e</column>
            <column name="Passwort">$2y$10$GwU1oI4prb58K1atFiiSGexiMrwwRiS1N51BttYI5yWwvpa6a/eem</column>
            <column name="Rolle">2</column>
            <column name="registered">2021-04-12 11:40:04</column>
        </table>
        <table name="verfasser">
            <column name="id_verfasser">36</column>
            <column name="Name">Michael Weitz</column>
            <column name="Email">weitz@baustreit.de</column>
            <column name="Passwort">$2y$10$KONBIbq.HHT9GdtVsA3z4uOEPBwip92PDDqO.sCsloXQ6FVwuUzMq</column>
            <column name="Rolle">2</column>
            <column name="registered">2021-04-14 16:18:17</column>
        </table>
        <!-- Tabelle verursacher -->
    </database>
</pma_xml_export>